# Short Link Service

Сервис для сокращения ссылок.

## Описание

Этот сервис позволяет создавать короткие ссылки для перенаправления на длинные URL. Управление ссылками (создание, перенаправление, обновление) происходит через консольный интерфейс. Настройки сервиса, такие как максимальное время жизни коротких ссылок, задаются через класс `AppConfig`. `LinkManager` управляет всеми ссылками, используя класс `ShortLinkGenerator` для создания коротких ссылок. Класс `Link` представляет собой сущность короткой ссылки и хранит информацию о ее состоянии.

## Как пользоваться сервисом

1.  **Установка:**
    *   Убедитесь, что у вас установлен JDK (Java Development Kit) и Maven.
    *   Соберите проект с помощью Maven:
        ```bash
        mvn clean install
        ```

2.  **Запуск:**
    *   Запустите приложение (например, через IDE или через jar-файл).
    *   После запуска в консоли появится меню для взаимодействия с сервисом.

3.  **Использование:**
    *   **Главное меню:**
        *   Сервис выведет меню с вариантами действий:
            *   1 - Сократить ссылку
            *   2 - Перейти по короткой ссылке
            *   3 - Управлять ссылкой
            *   4 - Выход
        *   Введите номер желаемого действия.

    *   **Сократить ссылку:**
        1.  Введите `1`.
        2.  Введите длинную ссылку, которую хотите сократить.
        3.  Введите максимальное количество кликов (0 - без ограничений).
        4.  Введите количество дней жизни ссылки (0 - использовать из config).
        5.  Сервис вернет короткую ссылку.
            *  Если количество дней жизни ссылки равно 0, то будет взято значение из config файла.

    *   **Перейти по короткой ссылке:**
        1.  Введите `2`.
        2.  Введите короткую ссылку.
        3.  Если ссылка найдена и активна (количество переходов не превышено и срок действия не истек), вы увидите сообщение о переадресации. Иначе увидите сообщение об ошибке.

    *   **Управлять ссылкой:**
        1.  Введите `3`.
        2.  Введите короткую ссылку, которую хотите изменить.
        3.  Введите новое максимальное количество кликов (0 - без ограничений).
        4.  Введите новое количество дней жизни ссылки (0 - использовать из config).
        5.  Сервис выведет сообщение об успехе.
            *  Если количество дней жизни ссылки равно 0, то будет взято значение из config файла.
    *   **Выход:**
        1.  Введите `4`.
        2.  Сервис завершит работу.

## Поддерживаемые команды (если есть)

*   (Укажите команды, если есть)

## Как протестировать ваш код

1.  **Запуск тестов:**
    *   Запустите тесты с помощью (например, `mvn test` или через IDE).
   *   Тестовые классы нужно будет создать

2.  **Примеры тестов:**
    *   (Опишите, что тестируете).

## Конфигурация

### Класс `AppConfig`

*   Этот класс управляет конфигурацией сервиса.
*   **`maxLinkLifetimeDays`:** Максимальное время жизни (в днях) коротких ссылок. По умолчанию равно 7 дням.
*   Вы можете настроить эту переменную изменив значение в классе, и пересобрав проект.

### Класс `LinkManager`

*   Управляет созданием, получением и обновлением ссылок.
*   Использует `HashMap` для хранения ссылок.
*   Использует класс `ShortLinkGenerator` для генерации коротких ссылок.
*   Метод `createLink` создает ссылку, используя данные из консоли и конфигурацию из `AppConfig`.
*   Метод `getLongUrl` возвращает длинную ссылку если она найдена и активна.
*   Метод `updateLink` обновляет настройки ссылки.

### Класс `Link`

*   Представляет собой сущность короткой ссылки.
*   Содержит следующие свойства:
    *   **`longUrl`**: Исходный длинный URL.
    *   **`shortUrl`**: Сокращенный URL.
    *   **`userUuid`**: Идентификатор пользователя, создавшего ссылку (UUID).
    *   **`clicks`**: Количество переходов по ссылке.
    *   **`maxClicks`**: Максимальное количество переходов по ссылке (0 - без ограничений).
    *   **`creationTime`**: Время создания ссылки.
    *   **`linkLifetimeDays`**: Количество дней жизни ссылки (0 - бессрочно).
    *   **`isActive`**: Активна ли ссылка.
    *   Метод `incrementClicks` увеличивает количество переходов и деактивирует ссылку, если достигнуто максимальное количество кликов.
    *   Метод `isActive` возвращает `true`, если срок жизни ссылки не истек и количество переходов не превысило максимальное значение, `false` в обратном случае.

### Класс `ShortLinkGenerator`

*   Генерирует короткие ссылки.
*   Использует набор символов `abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789` для создания ссылок.
*   Генерирует короткие ссылки длиной в 7 символов.

## Как внести изменения

1.  Сделайте fork репозитория.
2.  Внесите изменения и сделайте коммит.
3.  Создайте pull request
